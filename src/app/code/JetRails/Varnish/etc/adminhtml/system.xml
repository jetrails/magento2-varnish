<?xml version="1.0" ?>

<config
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd" >
	<system>
		<tab id="jetrails_tab" translate="label" sortOrder="0" >
			<label>JetRails</label>
		</tab>
		<section
			id="jetrails_varnish"
			translate="label"
			type="text"
			sortOrder="100"
			showInDefault="1"
			showInWebsite="1"
			showInStore="1" >
			<label>Varnish Cache™</label>
			<tab>jetrails_tab</tab>
			<resource>JetRails_Varnish::config</resource>
			<group
				id="general_configuration"
				translate="label"
				type="text"
				sortOrder="10"
				showInDefault="1"
				showInWebsite="1"
				showInStore="1" >
				<label>General Configuration</label>
				<attribute type="expanded" >1</attribute>
				<field
					id="version"
					translate="label"
					type="label"
					sortOrder="0"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Version</label>
					<comment>Currently installed extension version</comment>
				</field>
				<field
					id="status"
					translate="label"
					type="select"
					sortOrder="0"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Status</label>
					<source_model>JetRails\Varnish\Model\Adminhtml\Config\Options\EnableDisable</source_model>
					<comment>This will change your caching application</comment>
				</field>
				<field
					id="debug"
					translate="label"
					type="select"
					sortOrder="10"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Debug Mode</label>
					<source_model>JetRails\Varnish\Model\Adminhtml\Config\Options\EnableDisable</source_model>
					<comment><![CDATA[
						Response headers will say if there was a hit or miss in Varnish Cache™
						<br><b>Debug Header:</b> <code>JetRails-Hit-Miss</code>
					]]></comment>
				</field>
				<field
					id="servers"
					translate="label"
					type="textarea"
					sortOrder="30"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Varnish® Servers</label>
					<comment><![CDATA[
						New line separated values in form of
						<b>HOST</b>:<b>PORT</b>
						<br><b>Example:</b> <code>127.0.0.1:80</code>
					]]></comment>
				</field>
				<field
					id="link"
					translate="label"
					type="button"
					sortOrder="50"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Link To Purge Varnish Cache™</label>
					<frontend_model>JetRails\Varnish\Block\Adminhtml\System\Config\Form\Link</frontend_model>
				</field>
				<field
					id="disclaimer"
					translate="label"
					type="label"
					sortOrder="60"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Disclaimer</label>
					<comment>Varnish is a registered trademark of Varnish Software AB and its affiliates.</comment>
				</field>
			</group>
			<group
				id="automatic_cache_purge"
				translate="label"
				type="text"
				sortOrder="20"
				showInDefault="1"
				showInWebsite="1"
				showInStore="1" >
				<label>Automatic Cache Purge</label>
				<attribute type="expanded" >1</attribute>
				<field
					id="product_save"
					translate="label"
					type="select"
					sortOrder="10"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Product Save</label>
					<source_model>JetRails\Varnish\Model\Adminhtml\Config\Options\YesNo</source_model>
					<comment>Automatically purge cache for product url and associated categories whenever product is saved/deleted.</comment>
				</field>
				<field
					id="cms_page_save"
					translate="label"
					type="select"
					sortOrder="20"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>CMS Page Save</label>
					<source_model>JetRails\Varnish\Model\Adminhtml\Config\Options\YesNo</source_model>
					<comment>Automatically purge cache for CMS page whenever page is saved.</comment>
				</field>
				<field
					id="category_save"
					translate="label"
					type="select"
					sortOrder="30"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Category Save</label>
					<source_model>JetRails\Varnish\Model\Adminhtml\Config\Options\YesNo</source_model>
					<comment>Automatically purge cache for category pages whenever category is saved/deleted.</comment>
				</field>
			</group>
			<group
				id="cache_exclusion_patterns"
				translate="label"
				type="text"
				sortOrder="30"
				showInDefault="1"
				showInWebsite="1"
				showInStore="1" >
				<label>Cache Exclusion Patterns</label>
				<attribute type="expanded" >1</attribute>
				<field
					id="excluded_url_paths"
					translate="label"
					type="textarea"
					sortOrder="10"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Excluded Paths</label>
					<comment><![CDATA[
						New line separated, URL path must start with <b>/</b> and trailing <b>/</b> will be ignored
						<br><b>Debug Header:</b> <code>JetRails-No-Cache-Blame-Path</code>
						<br><b>Example:</b> <code>/cart</code>
					]]></comment>
				</field>
				<field
					id="excluded_routes"
					translate="label"
					type="textarea"
					sortOrder="20"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Excluded Routes</label>
					<comment><![CDATA[
						New line separated, left associative
						<br><b>Debug Header:</b> <code>JetRails-No-Cache-Blame-Route</code>
						<br><b>Example:</b> <code>route/module/controller/action</code>
						<br><b>Example:</b> <code>route/module/controller</code>
						<br><b>Example:</b> <code>route/module</code>
						<br><b>Example:</b> <code>route</code>
					]]></comment>
				</field>
				<field
					id="excluded_wildcard_patterns"
					translate="label"
					type="textarea"
					sortOrder="30"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Excluded Paths (Wildcard Pattern)</label>
					<comment><![CDATA[
						New line separated, wildcard patterns must start with <b>/</b> and must match full path,
						<br><b>Debug Header:</b> <code>JetRails-No-Cache-Blame-Wildcard</code>
						<br><b>Example:</b> <code>/product/**/color-*/*</code>
					]]></comment>
				</field>
				<field
					id="excluded_regexp_patterns"
					translate="label"
					type="textarea"
					sortOrder="40"
					showInDefault="1"
					showInWebsite="1"
					showInStore="1" >
					<label>Excluded Url (RegExp Pattern)</label>
					<comment><![CDATA[
						New line separated, regular expression patterns match against the full URL. Use anchors (^$) exhaustively, since the risk of overmatching without them is high.
						<br><b>Debug Header:</b> <code>JetRails-No-Cache-Blame-RegExp</code>
						<br><b>Example:</b> <code>/[?&]no-cache$/im</code>
					]]></comment>
				</field>
			</group>
		</section>
	</system>
</config>
